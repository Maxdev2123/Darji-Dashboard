{% extends 'base.html' %}
{% load static %}
{% block body %}
    <div id="main-wrapper" class="show">


        <div class="content-body default-height">
            <div class="container-fluid">

                <!-- Row -->
                <div class="row">
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card  blog-card">
                            <div class="card-body text-center">
                                <img src="static/images/heart.png" alt="">
                                <a href="/"><h4>Profile</h4></a>

                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card  blog-card">
                            <div class="card-body text-center">
                                <img src="static/images/books.png" alt="">
                                <a href="task"><h4>Payments</h4></a>

                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card blog-card ">
                            <div class="card-body text-center">
                                <img src="static/images/news.png" alt="">
                                <a href="add_blog"><h4>Products</h4></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <a href="gallery">
                            <div class="card  blog-card">
                                <div class="card-body text-center">
                                    <img src="static/images/file.png" alt="">
                                    <h4>Gallery</h4>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-xl-12">


                        <div class="row">
                            <div class="col-xl-12">
                                <div class="card h-auto">
                                    <div class="card-body">
                                        <form>
                                            <div class="row">

                                                <div class="col-sm-3 ">
                                                    <label class="form-label">Product SKU</label>
                                                    <select class="form-control default-select h-auto wide">
                                                        <option value="AL">SKU demo 1</option>
                                                        <option value="WY">SKU demo 2</option>
                                                        <option value="WY">SKU demo 3</option>
                                                        <option value="WY">SKU demo 4</option>
                                                        <option value="WY">SKU demo 5</option>
                                                    </select>
                                                </div>

                                                <div class="col-sm-3 ">
                                                    <label class="form-label">Product Price</label>
                                                    <input type="number" class="form-control" placeholder="Price">
                                                </div>

                                                <div class="col-sm-3 ">
                                                    <label class="form-label">Estimated Time</label>
                                                    <input type="text" class="form-control" placeholder="2h">
                                                </div>


                                                <div class="col-sm-3 ">
                                                    <label class="form-label"></label>
                                                    <input type="submit" class="form-control btn btn-primary" style="background-color:#8869e1 !Important; color:white;" placeholder="Price">
                                                </div>

                                            </div>
                                        </form>
                                    </div>
                                </div>


                            </div>

                        </div>

                        <div class="table-responsive">
                            <table id="example4" class="display table" style="min-width: 845px">
                                <thead>
                                <tr>
                                    <th>Sr. No,</th>
                                    <th>SKU</th>
                                    <th>Price</th>
                                    <th>Estimated Time Taken</th>
                                    <th>Created At</th>
                                    <th>Updated At</th>
                                    <th colspan="2">Option</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>01</td>
                                    <td>SKU 1</td>
                                    <td>Rs.54605</td>
                                    <td>2 Hours</td>
                                    <td>12/03/2023</td>
                                    <td>13/03/2023</td>
                                    <td>
                                        <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">
                                            Edit
                                        </button>
                                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="exampleModalLabel">Edit Modal
                                                            Title</h5>
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- Form fields go here -->
                                                        <form id="editForm">
                                                            <div class="form-group">
                                                                <label for="sku" class="col-form-label">SKU</label><br>
                                                                <select class="form-control default-select h-auto wide" id="skuSelect">
                                                                    <option value="AL">SKU demo 1</option>
                                                                    <option value="WY">SKU demo 2</option>
                                                                    <option value="WY">SKU demo 3</option>
                                                                    <option value="WY">SKU demo 4</option>
                                                                    <option value="WY">SKU demo 5</option>
                                                                </select>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="price" class="col-form-label">Price</label>
                                                                <input class="form-control" id="priceInput"></input>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="estimated-time" class="col-form-label">Estimated
                                                                    Time</label>
                                                                <input class="form-control" id="estimatedTimeInput"></input>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                                            Close
                                                        </button>
                                                        <button type="button" class="btn btn-primary" id="saveChangesBtn">
                                                            Save changes
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <script>
    document.addEventListener("DOMContentLoaded", function () {
        const editButtons = document.querySelectorAll('.btn-success');
        const saveChangesBtn = document.getElementById('saveChangesBtn');

        let editedRowIndex = -1;

        editButtons.forEach(function (button, index) {
            button.addEventListener('click', function () {
                // Get the row data
                const row = this.closest('tr');
                const sku = row.querySelectorAll('td')[1].textContent.trim();
                const price = row.querySelectorAll('td')[2].textContent.trim();
                const estimatedTime = row.querySelectorAll('td')[3].textContent.trim();

                // Populate modal form fields
                document.getElementById('skuSelect').value = sku;
                document.getElementById('priceInput').value = price;
                document.getElementById('estimatedTimeInput').value = estimatedTime;

                editedRowIndex = index; // Set the index of the edited row
            });
        });

        saveChangesBtn.addEventListener('click', function () {
            const editedRow = document.querySelectorAll('.btn-success')[editedRowIndex].closest('tr');
            const sku = document.getElementById('skuSelect').value;
            const price = document.getElementById('priceInput').value;
            const estimatedTime = document.getElementById('estimatedTimeInput').value;

            // Update table data
            editedRow.querySelectorAll('td')[1].textContent = sku;
            editedRow.querySelectorAll('td')[2].textContent = price;
            editedRow.querySelectorAll('td')[3].textContent = estimatedTime;

            // Close the modal
            $('#exampleModal').modal('hide');
        });
    });
</script>




                                    </td>

                                    <td>
                                        <button type="button" class="btn btn-danger">Delete</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>01</td>
                                    <td>SKU 1</td>
                                    <td>Rs.54605</td>
                                    <td>2 Hours</td>
                                    <td>12/03/2023</td>
                                    <td>13/03/2023</td>
                                    <td>
                                        <button type="button" class="btn btn-success">Edit</button>
                                    </td>
                                    <td>
                                        <button type="button" class="btn btn-danger">Delete</button>
                                    </td>
                                </tr>


                                </tbody>
                            </table>
                        </div>
                        <script>
                            document.addEventListener("DOMContentLoaded", function () {
                                const editButtons = document.querySelectorAll('.btn-success');
                                const deleteButtons = document.querySelectorAll('.btn-danger');

                                // Add event listeners to the edit buttons
                                editButtons.forEach(function (button) {
                                    button.addEventListener('click', function () {
                                        // Get the row data
                                        const row = this.closest('tr');
                                        const rowData = Array.from(row.querySelectorAll('td')).map(cell => cell.textContent);

                                        // Example: Populate a form in a modal for editing
                                        // Here, you can use rowData to populate the form fields in the modal
                                        // Open your modal or popup here
                                        console.log('Editing row data:', rowData);
                                    });
                                });

                                // Add event listeners to the delete buttons
                                deleteButtons.forEach(function (button) {
                                    button.addEventListener('click', function () {
                                        // Get the row and remove it from the table
                                        const row = this.closest('tr');
                                        if (confirm('Are you sure you want to delete this row?')) {
                                            row.remove();
                                        }
                                    });
                                });
                            });
                        </script>
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->

        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright © Developed by <a href="https://dexignzone.com/" target="_blank">DexignZone</a>
                    <span class="current-year">2024</span></p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->

        <!--**********************************
           Support ticket button start
        ***********************************-->

        <!--**********************************
           Support ticket button end
        ***********************************-->


    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}