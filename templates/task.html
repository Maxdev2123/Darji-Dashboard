{% extends 'base.html' %}
{% load static %}
{% block body %}
    <div id="main-wrapper" class="show">


        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card  blog-card">
                            <div class="card-body text-center">
                                <img src="static/images/heart.png" alt="">
                                <a href="/"><h4>Profile</h4></a>

                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card  blog-card">
                            <div class="card-body text-center">
                                <img src="static/images/books.png" alt="">
                                <a href="task"><h4>Payments</h4></a>

                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <div class="card blog-card ">
                            <div class="card-body text-center">
                                <img src="static/images/news.png" alt="">
                                <a href="add_blog"><h4>Products</h4></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-3 col-6">
                        <a href="gallery">
                            <div class="card  blog-card">
                                <div class="card-body text-center">
                                    <img src="static/images/file.png" alt="">
                                    <h4>Gallery</h4>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row task">
                                    <div class="col-xl-3 col-sm-4 col-6">
                                        <div class="task-summary" id="cuttingCount">
                                            <div class="d-flex align-items-baseline">
                                                <h2 class="text-primary count">0</h2>
                                                <span>Cutting</span>
                                            </div>
                                            <p>Tasks assigned</p>
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-sm-4 col-6">
                                        <div class="task-summary task-sven" id="stitchingCount">
                                            <div class="d-flex align-items-baseline">
                                                <h2 class="text-purple count">0</h2>
                                                <span>Stitching</span>
                                            </div>
                                            <p>Tasks assigned</p>
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-sm-4 col-6">
                                        <div class="task-summary task-odd" id="packagingCount">
                                            <div class="d-flex align-items-baseline">
                                                <h2 class="text-warning count">0</h2>
                                                <span>Packaging</span>
                                            </div>
                                            <p>Tasks assigned</p>
                                        </div>
                                    </div>
                                    <div class="col-xl-3 col-sm-4 col-6">
                                        <div class="task-summary task-even" id="deliveryCount">
                                            <div class="d-flex align-items-baseline">
                                                <h2 class="text-danger count">0</h2>
                                                <span>Delivery</span>
                                            </div>
                                            <p>Tasks assigned</p>
                                        </div>
                                    </div>

                                    <script>
                                        // Function to update the counts
                                        function updateCounts() {
                                            const counts = {
                                                'Cutting': 0,
                                                'Stitching': 0,
                                                'Packaging': 0,
                                                'Delivery': 0
                                            };

                                            // Loop through all select elements
                                            const selectElements = document.querySelectorAll('.status-select');
                                            selectElements.forEach(function (select) {
                                                const selectedValue = select.value;
                                                counts[selectedValue]++;
                                            });

                                            // Update the counts in the respective task summaries
                                            document.getElementById('cuttingCount').querySelector('.count').textContent = counts['Cutting'];
                                            document.getElementById('stitchingCount').querySelector('.count').textContent = counts['Stitching'];
                                            document.getElementById('packagingCount').querySelector('.count').textContent = counts['Packaging'];
                                            document.getElementById('deliveryCount').querySelector('.count').textContent = counts['Delivery'];
                                        }

                                        // Listen for changes in the dropdown selection
                                        const selectElements = document.querySelectorAll('.status-select');
                                        selectElements.forEach(function (select) {
                                            select.addEventListener('change', updateCounts);
                                        });

                                        // Initial update of counts
                                        updateCounts();
                                    </script>


                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="row task">
                                    <div class="col-xl-6 col-sm-4 col-6">
                                        <div class="task-summary">
                                            <div class="d-flex align-items-baseline">
                                                <h2 class="text-primary count" style="font-size: 50px">2</h2>
                                                <span style="font-size: 25px">Orders Delivered</span>
                                            </div>
                                            <p>Tasks assigned</p>
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-sm-4 col-6">
                                        <div class="task-summary task-sven">
                                            <div class="d-flex align-items-baseline">
                                                <h2 id="totalPayment" class="text-primary count" style="font-size: 50px">
                                                    Rs.0</h2>
                                            </div>
                                            <p style="font-size: 25px">Total Payment</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", function () {
                            // Get all the price elements
                            const priceElements = document.querySelectorAll('td h3.text-success');

                            // Initialize total payment variable
                            let totalPayment = 0;

                            // Loop through each price element and add its value to the total payment
                            priceElements.forEach(function (priceElement) {
                                const priceText = priceElement.textContent.trim(); // Get the price text
                                const priceValue = parseFloat(priceText.replace('Rs.', '')); // Parse the price value
                                totalPayment += priceValue; // Add the price value to the total payment
                            });

                            // Update the total payment element with the calculated total payment
                            const totalPaymentElement = document.getElementById('totalPayment');
                            totalPaymentElement.textContent = 'Rs.' + totalPayment.toFixed(2);
                        });
                    </script>

                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body p-0">
                                <div class="table-responsive active-projects task-table">
                                    <div class="tbl-caption">
                                        <h4 class="heading mb-0">Task</h4>
                                    </div>
                                    <table id="empoloyeestbl2" class="table">
                                        <thead>
                                        <tr style="text-align: center">
                                            <th>
                                                <input type="checkbox" class="form-check-input" id="checkAll" required="">
                                            </th>
                                            <th>Sr. No.</th>
                                            <th>SKU</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Comments</th>
                                            <th>Price</th>
                                            <th>Delivery Status</th>
                                            <th>Update</th>
                                        </tr>
                                        </thead>
                                        <tbody style="text-align: center">
                                        <tr>
                                            <td>
                                                <div class="form-check custom-checkbox">
                                                    <input type="checkbox" class="form-check-input" id="customCheckBox3" required>
                                                    <label class="form-check-label" for="customCheckBox3"></label>
                                                </div>
                                            </td>
                                            <td><span>01</span></td>
                                            <td>
                                                <div class="products">
                                                    <div>
                                                        <h6>Create Frontend WordPress</h6>
                                                        <span>INV-100023456</span>
                                                    </div>
                                                </div>
                                            </td>
                                            <td><span>06 Feb 2023</span></td>
                                            <td>
                                                <span>19 Feb 2023</span>
                                            </td>
                                            <td class="comment-cell">
                                                <span class="comment-text">Tailors are the true artisans of fashion, meticulously
                                                    crafting garments with precision and care to fit each unique individual
                                                    like a second skin.</span>
                                                <style>
                                                    .comment-cell {
                                                        max-width: 150px; /* Set a maximum width for the cell */
                                                    }

                                                    .comment-text {
                                                        display: inline-block; /* Ensure the text behaves as a block element */
                                                        vertical-align: top; /* Align text to the top */
                                                        word-wrap: break-word; /* Break words that exceed the width */
                                                        word-break: break-all; /* Break long words */
                                                        white-space: normal; /* Allow text to wrap normally */
                                                    }

                                                </style>
                                            </td>
                                            <td><h3 class="text-success" id="price">Rs.500</h3></td>
                                            <td class="text-end">
                                                <select class="default-select status-select">
                                                    <option value="progress">Cutting</option>
                                                    <option value="pending">Stitching</option>
                                                    <option value="testing">Packaging</option>
                                                    <option value="complete">Complete For Delivery</option>
                                                </select>
                                            </td>
                                            <td>
                                                <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">
                                                    Save Changes
                                                </button>
                                                <script>
                                                    // Function to handle click event of the "Save Changes" button
                                                    document.getElementById("saveChangesBtn").addEventListener("click", function () {
                                                        // Here, you can add your logic to save changes, such as sending data to the server
                                                        console.log("Changes saved!");
                                                    });
                                                </script>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="form-check custom-checkbox">
                                                    <input type="checkbox" class="form-check-input" id="customCheckBox3" required>
                                                    <label class="form-check-label" for="customCheckBox3"></label>
                                                </div>
                                            </td>
                                            <td><span>02</span></td>
                                            <td>
                                                <div class="products">
                                                    <div>
                                                        <h6>Create Frontend WordPress</h6>
                                                        <span>INV-100023456</span>
                                                    </div>
                                                </div>
                                            </td>
                                            <td><span>06 Feb 2023</span></td>
                                            <td>
                                                <span>19 Feb 2023</span>
                                            </td>
                                            <td class="comment-cell">
                                                <span class="comment-text">Tailors are the true artisans of fashion, meticulously
                                                    crafting garments with precision and care to fit each unique individual
                                                    like a second skin.</span>
                                                <style>
                                                    .comment-cell {
                                                        max-width: 150px; /* Set a maximum width for the cell */
                                                    }

                                                    .comment-text {
                                                        display: inline-block; /* Ensure the text behaves as a block element */
                                                        vertical-align: top; /* Align text to the top */
                                                        word-wrap: break-word; /* Break words that exceed the width */
                                                        word-break: break-all; /* Break long words */
                                                        white-space: normal; /* Allow text to wrap normally */
                                                    }

                                                </style>
                                            </td>
                                            <td><h3 class="text-success">Rs.1000</h3></td>
                                            <td class="text-end">
                                                <select class="default-select status-select">
                                                    <option value="progress">Cutting</option>
                                                    <option value="pending">Stitching</option>
                                                    <option value="testing">Packaging</option>
                                                    <option value="complete">Complete For Delivery</option>
                                                </select>
                                            </td>
                                        </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright © Developed by <a href="https://dexignzone.com/" target="_blank">DexignZone</a>
                    <span class="current-year">2024</span></p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->


    </div>
{% endblock %}
